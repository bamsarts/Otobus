<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Otobus</title>
        <meta name="description" content="">
        <!-- <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"> -->
        <meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0"/>

        <!--favicon otobus-->
        <link rel="shortcut icon" type="text/css" href="{{asset('asset/images/icon.png')}}">

        <link rel="apple-touch-icon" href="{{asset('apple-touch-icon.png')}}">

        <link rel="stylesheet" href="{{asset('asset/assets/css/bootstrap.min.css')}}">
        <link href='https://fonts.googleapis.com/css?family=Pacifico' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="{{asset('asset/assets/css/font-awesome.min.css')}}">
        <link rel="stylesheet" href="{{asset('asset/assets/css/bootstrap-theme.min.css')}}">

        <!--For Plugins external css-->
        <link rel="stylesheet" href="{{asset('asset/assets/css/animate/animate.css')}}" />
        <link rel="stylesheet" href="{{asset('asset/assets/css/plugins.css')}}" />

        <!--Theme custom css -->
        <link rel="stylesheet" href="{{asset('asset/assets/css/style.css')}}">

        <!--Theme Responsive css-->
        <link rel="stylesheet" href="{{asset('asset/assets/css/responsive.css')}}" />

        <link rel="stylesheet" type="text/css" href="{{asset('asset/universal/style.css')}}">


        <!-- style form -->
        <link rel="stylesheet" type="text/css" href="{{asset('asset/assets/css/styleForm.css')}}">

        <script src="{{asset('asset/assets/js/vendor/modernizr-2.8.3-respond-1.4.2.min.js')}}"></script>

        <script type="text/javascript" src="{{asset('asset/js/jquery-1.10.2.min.js')}}"></script>

        <!-- demo css-->
        <link rel="stylesheet" href="{{asset('asset/css/demo.css')}}">

        <!-- style login -->
        <link rel="stylesheet" href="{{asset('asset/css/style-login.css')}}">

        <!-- Style Pencarian -->
        <link rel="stylesheet" type="text/css" href="{{asset('asset/css/style-pencarian.css')}}">

        <!-- angular css -->
        <link rel="stylesheet" type="text/css" href="{{asset('asset/angular/angular.min.css')}}">

        <!-- css accordion dan range harga bootstrap -->
        <link rel="stylesheet" type="text/css" href="{{asset('asset/css/jquery-ui.css')}}">

        <!-- datepicker style -->
        <link rel="stylesheet" type="text/css" href="{{asset('asset/css/datepicker.css')}}">
        <!-- <link rel="stylesheet" href="{{asset('asset/angular/angular-datepicker.css')}}"> -->

        <style>
            /* @media (max-width: 960px){
                .profil1{
                    display: block;
                    width: 100px;
                    height: 25px;
                    text-indent: -999px;
                    font-size: 0px;
                    line-height: 0;
                }
                .fasilitas1{
                    display: block;
                    width: 100px;
                    height: 25px;
                    text-indent: -999px;
                    font-size: 0px;
                    line-height: 0;
                }
                .profil2{
                    display: block;
                    width: 100px;
                    height: 25px;
                    text-indent: -999px;
                    font-size: 0px;
                    line-height: 0;
                }
                .fasilitas2{
                    display: block;
                    width: 100px;
                    height: 25px;
                    text-indent: -999px;
                    font-size: 0px;
                    line-height: 0;
                }
                .profil3{
                    display: block;
                    width: 100px;
                    height: 25px;
                    text-indent: -999px;
                    font-size: 0px;
                    line-height: 0;
                }
                .fasilitas3{
                    display: block;
                    width: 100px;
                    height: 25px;
                    text-indent: -999px;
                    font-size: 0px;
                    line-height: 0;
                }
                .profil4{
                    display: block;
                    width: 100px;
                    height: 25px;
                    text-indent: -999px;
                    font-size: 0px;
                    line-height: 0;
                }
                .fasilitas4{
                    display: block;
                    width: 100px;
                    height: 25px;
                    text-indent: -999px;
                    font-size: 0px;
                    line-height: 0;
                }
                .profil5{
                    display: block;
                    width: 100px;
                    height: 25px;
                    text-indent: -999px;
                    font-size: 0px;
                    line-height: 0;
                }
                .fasilitas5{
                    display: block;
                    width: 100px;
                    height: 25px;
                    text-indent: -999px;
                    font-size: 0px;
                    line-height: 0;
                }
                .profil6{
                    display: block;
                    width: 100px;
                    height: 25px;
                    text-indent: -999px;
                    font-size: 0px;
                    line-height: 0;
                }
                .fasilitas6{
                    display: block;
                    width: 100px;
                    height: 25px;
                    text-indent: -999px;
                    font-size: 0px;
                    line-height: 0;
                }
            }
            @media (max-width: 720px){
                .carii{
                    display: block;
                    width: 575px;
                    font-size: 12px;
                }
                .panelFilter{
                    display: none;
                }
                div .po1{
                    position: relative;
                    top: 10px;
                    left: -20px;
                }
                .seat1 p{
                    text-align: left;
                    position: relative;
                    top: -25px;
                    left: 170px;
                }
                .rute1 p{
                    position: relative;
                    top: 10px;
                    left: 200px;
                }
                .tombol1 span{
                    position: relative;
                    top: 5px;
                    left: 200px;
                }
                .harga1 p{
                    display: none;
                }
                .titel1{
                    position: relative;
                    top: -70px;
                    left: -40px;
                }
                .titel2{
                    position: relative;
                    top: -113px;
                    left: 0px;
                }
                .titel3{
                    position: relative;
                    top: -157px;
                    left: 40px;
                }
                .buttonProfil1{
                    position: relative;
                    bottom: -250px;
                    left: 70px;
                }
                .buttonFasilitas1{
                    position: relative;
                    bottom: -116px;
                    left: 247px;
                }

                div .po2{
                    position: relative;
                    top: 10px;
                    left: -20px;
                }
                .seat2 p{
                    text-align: left;
                    position: relative;
                    top: -25px;
                    left: 170px;
                }
                .rute2{
                    position: relative;
                    top: 10px;
                    left: 200px;
                }
                .tombol2 span{
                    position: relative;
                    top: 0px;
                    left: 200px;
                }
                .harga2{
                    display: none;
                }
                .titel_1{
                    position: relative;
                    top: -70px;
                    left: -40px;
                }
                .titel_2{
                    position: relative;
                    top: -113px;
                    left: 0px;
                }
                .titel_3{
                    position: relative;
                    top: -157px;
                    left: 40px;
                }
                .buttonProfil2{
                    position: relative;
                    bottom: -250px;
                    left: 70px;
                }
                .buttonFasilitas2{
                    position: relative;
                    bottom: -116px;
                    left: 247px;
                }
            }
            @media (max-width: 1366px){
                .carii{
                    font-size: 12px;
                }
            } */
            @media screen and (min-width:721px) and (max-width: 1660px){
                .mobileVersion{
                    display: none;
                }
            }
            @media screen and (max-width: 720px){
                .dekstopVersion{
                    display: none;
                }
                .carii{
                    display: block;
                    width: 575px;
                    font-size: 12px;
                }
                .kolomAsal{
                    font-size: 12px;
                    background: white;
                }
                /* option .asal_{
                    -webkit-appearance: none;
                    position: relative;
                    left: 50px;
                } */
                .kolomTujuan{
                    font-size: 12px;
                    background: white;
                }
                .kolomKelas{
                    font-size: 12px;
                    background: white;
                }
                .kolomPenumpang{
                    font-size: 12px;
                    background: white;
                }
                /* .map{
                    display: block!important;
                } */
            }
        </style>
        
    </head>

    <body ng-app="otobuus_app" ng-controller="pencarian_controller">

    <div class="dekstopVersion">
	    <div class='preloader'><div class='loaded'>&nbsp;</div></div>
        <header id="home" class="navbar-fixed-top" style="background: black;">
            <!-- End navbar-collapse-->
            <div class="main_menu_bg">
                <div class="container"> 
                    <div class="row">
                        <nav class="navbar navbar-default">
                            <div class="container-fluid">
                                <!-- Brand and toggle get grouped for better mobile display -->
                                <div class="navbar-header">
                                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                                        <span class="sr-only">Toggle navigation</span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                    </button>
                                    <a class="navbar-brand" href="{{ url ('/') }}"><img src="{{asset('asset/images/logo.png')}}" alt="" /></a>
                                </div>

                                <!-- Collect the nav links, forms, and other content for toggling -->
                                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">

                                    <ul class="nav navbar-nav navbar-right">
                                        <li><a href="{{ url ('/') }}" style="font-size: 14px;">Home</a></li>
                                        <li><a href="{{ url ('pemesanan')}}" style="font-size: 14px;">Cek Pemesanan</a></li>
                                        <li><a href="{{ url ('informasi')}}" style="font-size: 14px;">Informasi</a></li>
                                        <li><a href="{{ url ('login')}}" style="font-size: 14px;">Login/Daftar</a></li>
                                    </ul>
                                </div><!-- /.navbar-collapse -->
                            </div><!-- /.container-fluid -->
                        </nav>
                    </div>
                </div>
            </div>	
        </header> <!-- End Header Section -->

        <div class="container">
            <div class="row" style="margin-top: 100px;">
                <div class="col-md-12 form-inline">

                    <!-- kota asal -->
                    <div class="col-sm-2 form-group">
                        <div class="input-group date">
                            <span class="input-group-addon" style="background: white;"><i style="background-image: url(asset/images/kota-asal16.png);"></i></span>
                                <!-- <select class="form-control kolomAsal" style="font-size: 12px; width: 110px; background: white;">
                                    <optgroup ng-repeat="list_kota in _result_kota_asal" label="@{{list_kota.namaProvinsi}}">
                                        <option ng-repeat="wilayah in list_kota.wilayahs" value="@{{wilayah.idWilayah}}">
                                            @{{wilayah.namaWilayah}}
                                        </option>
                                    </optgroup>
                                </select> -->
                                <select class="form-control kolomAsal" ng-model="kota1" ng-options="x.idWilayah as x.namaWilayah group by x.namaProvinsi for x in tesAsal" style="font-size: 12px; width: 110px; background: white;">
                                </select>
                        </div>
                    </div>
                    <!-- end -->

                    <!-- kota tujuan -->
                    <div class="col-sm-2 form-group">
                        <div class="input-group date">
                            <span class="input-group-addon" style="background: white;"><i style="background-image: url(asset/images/kota-tujuan16.png);"></i></span>
                            <!-- <select class="form-control kolomTujuan" style="font-size: 12px; width: 110px; background: white;">
                                <optgroup ng-repeat="list_kota in _result_kota_tujuan" label="@{{ list_kota.namaProvinsi }}">
                                    <option ng-repeat="wilayah in list_kota.wilayahs" value="@{{ wilayah.idWilayah }}">
                                        @{{ wilayah.namaWilayah }}
                                    </option>
                                </optgroup>
                            </select> -->
                            <select class="form-control kolomTujuan" ng-model="kota2" ng-options="y.idWilayah as y.namaWilayah group by y.namaProvinsi for y in tesTujuan" style="font-size: 12px; width: 110px; background: white;">
                            </select>
                        </div>
                    </div>
                    <!-- end -->

                    <!-- tanggal -->
                    <div class="col-sm-2 form-group">
                        <div class="input-group date">
                            <span class="input-group-addon" style="background: white;"><i style="background-image: url(asset/images/tanggal15.png);"></i></span>
                            <input ng-model="tglBerangkat" class="form-control tanggal" type="text" name="tanggal" value="<?php $tgl=date('d-m-Y'); echo $tgl; ?>" style="background: white; font-size: 12px;">
                        </div>
                    </div>
                    <!-- end -->

                    <!-- kelas -->
                    <div class="col-sm-2 form-group">
                        <div class="input-group date">
                            <span class="input-group-addon" style="background: white;"><i style="background-image: url(asset/images/kelas16.png);"></i></span>
                            <!-- <select class="form-control kolomKelas" name="kelas" style="font-size: 12px; width: 110px; background: white;">
                                <option ng-repeat="list_kelas in _result_kelas" value="@{{ list_kelas.idKelas }}">
                                    @{{ list_kelas.namaKelas }}
                                </option>
                            </select> -->
                            <select class="form-control kolomKelas" ng-model="val_kelas" ng-options="z.idKelas as z.jumlahKelas for z in tesEkonomi" name="kelas" style="font-size: 12px; width: 110px; background: white;">
                            </select>
                        </div>
                    </div>
                    <!-- end -->

                    <!-- penumpang -->
                    <div class="col-sm-2 form-group">
                        <div class="input-group date">
                            <span class="input-group-addon" style="background: white;"><i style="background-image: url(asset/images/penumpang16.png);"></i></span>
                            <!-- <select class="form-control" name="penumpang" style="font-size: 12px; width: 110px; background: white;">
                                <option ng-repeat="list_penumpang in _result_penumpang" value="@{{ list_penumpang.idPenumpang }}">
                                    @{{ list_penumpang.jumlahPenumpang }}
                                </option>
                            </select> -->
                            <select class="form-control" ng-model="val_kursi" ng-options="a.idPenumpang as a.jumlahPenumpang for a in tesJmlKursi" name="penumpang" style="font-size: 12px; width: 110px; background: white;">
                            </select>
                        </div>
                    </div>
                    <!-- end -->

                    <div class="col-sm-2 form-group">
                        <button type="submit" class="btn btn-sm btn-primary">
                            <p style="font-size: 12px;">Ganti Pencarian</p>
                        </button>
                    </div>
                </div><br><br><br>
                
                <div class="col-md-12">
                    <div class="panel panel-default panel-table panelFilter">
                        <div class="panel-heading" style="background: black;">
                            <div class="row">
                                <div class="col col-xs-2">
                                    <h3 class="panel-title pilter">Filter Berdasarkan</h3>
                                </div>
                                <div class="col-xs-2 operator">
                                    <div class="btn-group bootstrap-select show-tick filter-select">
                                        <select class="form-control" name="operator" style="font-size: 12px; width: 110px; background: white;">  
                                            <option value="">Operator</option>  
                                            <option value=""></option>  
                                            <option value=""></option>  
                                            <option value=""></option>  
                                            <option value=""></option>  
                                        </select>
                                    </div>
                                </div>

                                <div class="col-xs-2 waktu">
                                    <div class="btn-group bootstrap-select show-tick filter-select">
                                         <select class="form-control" name="waktu" style="font-size: 12px; width: 110px; background: white;">  
                                            <option value="">Waktu</option>  
                                            <option value=""></option>  
                                            <option value=""></option>  
                                            <option value=""></option>  
                                            <option value=""></option>  
                                        </select>
                                    </div>
                                </div>

                                <div class="col-xs-2 berangkat">
                                    <div class="btn-group bootstrap-select show-tick filter-select">
                                        <select class="form-control" name="tempat_keberangkatan" style="font-size: 12px; width: 200px; background: white;">  
                                            <option value="">Tempat Keberangkatan</option>  
                                            <option value=""></option>  
                                            <option value=""></option>  
                                            <option value=""></option>  
                                            <option value=""></option>  
                                        </select>
                                    </div>
                                </div>

                                <div class="col-xs-2 fasilitas">
                                    <div class="btn-group bootstrap-select show-tick filter-select">
                                        <select class="form-control" name="fasilitas" style="font-size: 12px; width: 110px; background: white;">  
                                            <option value="">Fasilitas</option>  
                                            <option value=""></option>  
                                            <option value=""></option>  
                                            <option value=""></option>  
                                            <option value=""></option>  
                                        </select>
                                    </div>
                                </div>

                                <div class="col-xs-2 kiri hargakiri">
                                    <div class="input-group">
                                        <span class="input-group-addon" id="basic-addon2" style="font-size: 12px;">Rp</span>
                                            <input id="slider-price-low" type="text" class="form-control" aria-describedby="basic-addon2" style="background: white; font-size: 12px;">
                                    </div>
                                </div>
                                <div id="slider-price" class="col-xs-2 slider-harga"></div>
                                <div class="col-xs-2 kanan hargakanan">
                                    <div class="input-group">
                                        <span class="input-group-addon" id="basic-addon2" style="font-size: 12px;">Rp</span>
                                            <input id="slider-price-high" type="text" class="form-control" aria-describedby="basic-addon2" style="background: white; font-size: 12px;">
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="dt-row">
                        <div class="container ">
                            <div data-dt-name="operator" class="col-sm-3 hidden-xs text-center asc">Bus & Kelas</div>
                            <div data-dt-name="type" class="col-sm-3 hidden-xs text-center asc">Rute</div>
                            <div data-dt-name="berangkat" class="col-sm-3 hidden-xs text-center asc">Fasilitas</div>
                            <div data-dt-name="via" class="col-sm-3 hidden-xs text-center asc">Harga</div>
                        </div>
                    </div><br>
                    <div>
                        @include ('pencarian2')
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="mobileVersion">
        <div class='preloader'><div class='loaded'>&nbsp;</div></div>
        <header id="home" class="navbar-fixed-top" style="background: black;">
            <!-- End navbar-collapse-->
            <div class="main_menu_bg">
                <div class="container"> 
                    <div class="row">
                        <nav class="navbar navbar-default">
                            <div class="container-fluid">
                                <!-- Brand and toggle get grouped for better mobile display -->
                                <div class="navbar-header">
                                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                                        <span class="sr-only">Toggle navigation</span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                    </button>
                                    <a class="navbar-brand" href="{{ url ('/') }}"><img src="{{asset('asset/images/logo.png')}}" alt="" /></a>
                                </div>

                                <!-- Collect the nav links, forms, and other content for toggling -->
                                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                                    <ul class="nav navbar-nav navbar-right">
                                        <li><a href="{{ url ('/') }}" style="font-size: 14px;">Home</a></li>
                                        <li><a href="{{ url ('pemesanan')}}" style="font-size: 14px;">Cek Pemesanan</a></li>
                                        <li><a href="{{ url ('informasi')}}" style="font-size: 14px;">Informasi</a></li>
                                        <li><a href="{{ url ('login')}}" style="font-size: 14px;">Login/Daftar</a></li>
                                    </ul>
                                </div><!-- /.navbar-collapse -->
                            </div><!-- /.container-fluid -->
                        </nav>
                    </div>
                </div>
            </div>	
        </header> <!-- End Header Section -->

        <div class="container">
            <div class="row" style="margin-top: 100px;">
                <div class="col-md-12 form-inline">
                    <div class="col-sm-2 form-group">
                        <div class="input-group date">
                            <span class="input-group-addon" style="background: white;"><i style="background-image: url(asset/images/kota-asal16.png);"></i></span>
                                <select class="form-control kolomAsal" name="asal">
                                    <option value="">Asal</option>  
                                    <option value=""></option>  
                                    <option value=""></option>  
                                    <option value=""></option>  
                                    <option value=""></option>  
                                </select>
                        </div>
                    </div>
                    <div class="col-sm-2 form-group">
                        <div class="input-group date">
                            <span class="input-group-addon" style="background: white;"><i style="background-image: url(asset/images/kota-tujuan16.png);"></i></span>
                            <select class="form-control kolomTujuan" name="tujuan">
                                <option value="">Tujuan</option>  
                                <option value=""></option>  
                                <option value=""></option>  
                                <option value=""></option>  
                                <option value=""></option>  
                            </select>
                        </div>
                    </div>
                    <div class="col-sm-2 form-group">
                        <div class="input-group date">
                            <span class="input-group-addon" style="background: white;"><i style="background-image: url(asset/images/tanggal15.png);"></i></span>
                            <input class="form-control tanggal" type="text" name="tanggal" value="<?php $tgl=date('d-m-Y'); echo $tgl; ?>" style="background: white; font-size: 12px;">
                        </div>
                    </div>
                    <div class="col-sm-2 form-group">
                        <div class="input-group date">
                            <span class="input-group-addon" style="background: white;"><i style="background-image: url(asset/images/kelas16.png);"></i></span>
                            <select class="form-control kolomKelas" name="kelas">
                                <option value="">Kelas</option>  
                                <option value="">Ekonomi</option>  
                                <option value="">Non Ekonomi</option>  
                                <option value=""></option>  
                                <option value=""></option>  
                            </select>
                        </div>
                    </div>
                    <div class="col-sm-2 form-group">
                        <div class="input-group date">
                            <span class="input-group-addon" style="background: white;"><i style="background-image: url(asset/images/penumpang16.png);"></i></span>
                            <select class="form-control kolomPenumpang" name="penumpang">
                                <option value="">Penumpang</option>  
                                <option value=""></option>  
                                <option value=""></option>  
                                <option value=""></option>  
                                <option value=""></option>  
                            </select>
                        </div>
                    </div>
                    <div class="col-sm-2 form-group">
                        <button type="submit" class="btn btn-sm btn-primary">
                            <p class="carii">Ganti Pencarian</p>
                        </button>
                    </div>
                </div><br><br><br>
            </div>
        </div>
    </div>

        <!--Start of Tawk.to Script
        <script type="text/javascript">
            var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
            (function(){
                var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
                s1.async=true;
                s1.src='https://embed.tawk.to/59bf396dc28eca75e4620995/default';
                s1.charset='UTF-8';
                s1.setAttribute('crossorigin','*');
                s0.parentNode.insertBefore(s1,s0);
            })();
        </script>
        End of Tawk.to Script -->
        
        <!-- start scroll up aktif -->
        <div class="scrollup">
            <a href="#"><i class="fa fa-chevron-up"></i></a>
        </div>
        <!-- end -->      
        
        <script src="{{asset('asset/assets/js/vendor/jquery-1.11.2.min.js')}}"></script>

        <script type="text-javascript" src="{{asset('asset/assets/js/jquery-1.11.1.min.js')}}"></script>
        <script type="text/javascript" src="{{asset('asset/js/jquery.min.js')}}"></script>
        <script src="{{asset('asset/assets/js/vendor/bootstrap.min.js')}}"></script>

        <script src="{{asset('asset/assets/js/jquery-easing/jquery.easing.1.3.js')}}"></script>
        <script src="{{asset('asset/assets/js/wow/wow.min.js')}}"></script>
        <script src="{{asset('asset/assets/js/plugins.js')}}"></script>
        <script src="{{asset('asset/assets/js/main.js')}}"></script>

        <!-- untuk accordion bootstrap -->
        <script type="text/javascript" src="{{asset('asset/js/jquery.js')}}"></script>
        <script type="text/javascript" src="{{asset('asset/js/jquery-ui.js')}}"></script>
        
        <!-- custom accordion -->
        <script type="text/javascript" src="{{asset('asset/js/custom_accordion.js')}}"></script>

        <!-- angular -->
        <script type="text/javascript" src="{{asset('asset/angular/angular.min.js')}}"></script>
        <!-- <script src="{{asset('asset/angular/angular-datepicker.js')}}"></script> -->
        <script src="{{asset('asset/angular/angular-route.min.js')}}"></script>
        <script type="text/javascript" src="{{asset('asset/angular/angular-animate.min.js')}}"></script>
        <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular-sanitize.js"></script>
        <!-- end angular -->

        <!-- custom order tiket -->
        <script type="text/javascript" src="{{asset('asset/js/custom_tiket.js')}}"></script>
        <script type="text/javascript" src="{{asset('asset/js/custom_tiket2.js')}}"></script>

        <!-- datepicker -->
        <script type="text/javascript" src="{{asset('asset/js/bootstrap-datepicker.js')}}"></script>
        <script type="text/javascript">
            $(document).ready(function () {
                $('.tanggal').datepicker({
                    format: "dd-mm-yyyy",
                    autoclose:true
                });
            });
        </script>
        <!-- end -->

        <!-- tooltip -->
        <script>
            $(document).ready(function(){
                $('[data-toggle="tooltip"]').tooltip(); 
            });
        </script>
        <!-- end -->


        <!-- Jquery UI Range Script -->
        <script>
            $(document).ready(function() {
                var min_rent = 95000,
                max_rent = 250000;
                $('#slider-price-low').val(min_rent);
                $('#slider-price-high').val(max_rent);
 
                $('#slider-price').slider({
                    orientation: 'horizontal',
                    range: true,
                    animate: 200,
                    min: 0,
                    max: 500000,
                    step: 5000,
                    value: 0,
                    values: [min_rent, max_rent],
                    slide: function(event,ui) {
                        $('#slider-price-low').val(ui.values[0]);
                        $('#slider-price-high').val(ui.values[1]);
                    }
                });
 
                $('#slider-price-low').change(function () {
                    var low = $('#slider-price-low').val(),
                    high = $('#slider-price-high').val();
                    low = Math.min(low, high);
                    $('#slider-price-low').val(low);
                    $('#slider-price').slider('values', 0, low);
                });
 
                $('#slider-price-high').change(function () {
                    var low = $('#slider-price-low').val(),
                    high = $('#slider-price-high').val();
                    high = Math.max(low, high);
                    $('#slider-price-high').val(high);
                    if(high > 500000) {
                        $('#slider-price-high').val('500000');
                    }
                    $('#slider-price').slider('values', 1, high);
                });
            });
        </script>

        <script>
            var app = angular.module("otobuus_app" , ['ngAnimate', 'ngSanitize']);
                app.controller("pencarian_controller", function($scope, $http, $q, $window, $httpParamSerializer, $location, $rootScope){

                    // baca query string dari url dahulu
                    // kalau ada query string brrt jalankan search
                    // kalau tidak ada maka jangan jalankan

                    function getParameterByName(name) {
                        name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
                        var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
                        var results = regex.exec(location.search);
                        return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
                    };

                    $scope.init = function(){
                        $scope.kotaAsal = getParameterByName('id_asal');
                        $scope.kotaTujuan = getParameterByName('id_tujuan');
                        $scope.tglBerangkat = getParameterByName('tglBerangkat');
                        $scope.ekonomi = getParameterByName('ekonomi');
                        $scope.jmlKursi = getParameterByName('jmlKursi');
                    };

                    // start get data trayek
                    $http.get("http://dev.otodata.co.id:8181/mobile/operator/bus/" + getParameterByName('id_asal') + '/' + getParameterByName('id_tujuan') + '?tglBerangkat=' + getParameterByName('tglBerangkat') + '&ekonomi=' + getParameterByName('ekonomi') + '&jmlKursi=' + getParameterByName('jmlKursi') + '&web=true')
                    .success(function(data){
                        // $scope.list_trayek = data[0].trayeks;
                        $scope.active = {record: null};
                        $scope.final = [];
                            data.forEach(function(response1){
                                response1.trayeks.forEach(function(response2){
                                    $scope.final.push({
                                        idPo : response1.idPo,
                                        namaPo : response1.namaPo,
                                        logoPo : response1.logoPo,
                                        hargaTerendah : response1.hargaTerendah,
                                        idDetailPemesanan : response2.idDetailPemesanan,
                                        poTrayek : response2.poTrayek,
                                        pemesananJadwal : response2.pemesananJadwal,
                                        pemesananSubTrayek : response2.pemesananSubTrayek,
                                        pemesananAgen : response2.pemesananAgen
                                    })
                                })
                            })

                            console.log($scope.final);
                    });
                    // end

                    // getAPI kursi
                    $scope.kursi = [];
                    $scope.getKursi = function (idJadwal, index, agen, trayek, subtrayek, arahtrayek) {
                        $rootScope.selectedAgen = agen;
                        console.log($rootScope.selectedAgen)

                        $rootScope.selectedTrayek = trayek;
                        console.log($rootScope.selectedTrayek)

                        $rootScope.selectedSubtrayek = subtrayek;
                        console.log($rootScope.selectedSubtrayek)

                        $rootScope.selectedArahtrayek = arahtrayek;
                        console.log($rootScope.selectedArahtrayek)

                        $http.get("http://dev.otodata.co.id:8181/mobile/jadwal/"+idJadwal+"/kursi")
                        .success(function(kursi) {
                            $scope.kursi[index] = kursi;
                            console.log(kursi);

                            $scope.layoutKursi = [];
                            kursi.seatMap.forEach(function(x) {
                                x.forEach(function(y) {
                                    $scope.layoutKursi.push(y)        
                                });
                            });

                            // total Harga Kursi
                            $scope.getTotal = function(jmlKursi, hargaTotal){
                                return hargaTotal * jmlKursi;
                            }
                            // end Harga Kursi

                            // start pilih seat
                            $scope.kursiTerpilih = []

                            $scope.pilihKursi = function(seat, index, hargaTotal){
                                if($scope.layoutKursi[index][4] === '0'){
                                    console.log($scope.layoutKursi[index][2])
                                    if ($scope.kursiTerpilih.length === $scope.val_kursi) {
                                        alert("Batas maksimal");
                                    } else {
                                        $scope.layoutKursi[index][4] = '1';
                                        $scope.kursiTerpilih.push($scope.layoutKursi[index][2])
                                        $scope.total = $scope.getTotal($scope.kursiTerpilih.length, hargaTotal);
                                    }
                                }
                                else if($scope.layoutKursi[index][4] ='1'){
                                    for (var i=0; i<$scope.kursiTerpilih.length; i++) {
                                        if ($scope.layoutKursi[index][2] === $scope.kursiTerpilih[i]) {
                                            $scope.kursiTerpilih.splice(i, 1);
                                            $scope.layoutKursi[index][4] = '0'; 
                                            $scope.total = $scope.getTotal($scope.kursiTerpilih.length, hargaTotal);
                                        }
                                    }
                                }
                            };
                            // end pilih seat
                        });
                    };
                    // end

                    // start get kota asal
                    $scope.kota1 = parseInt(getParameterByName('id_asal'));
                    console.log($scope.kota1);

                    $scope.getKotaAsal = function(){
                        $http.get("http://dev.otodata.co.id:8181/mobile/kota/asal")
                        .success(function(data){
                            $scope.tesAsal = [];
                            data.forEach(function(response){
                                response.wilayahs.forEach(function(response2){
                                    $scope.tesAsal.push({
                                        namaProvinsi: response.namaProvinsi,
                                        idProvinsi: response.idPorvinsi,
                                        namaWilayah: response2.namaWilayah,
                                        idWilayah: response2.idWilayah
                                    });
                                });
                            });
                        });
                    };
                    $scope.getKotaAsal();
                    // end

                    // start get kota tujuan
                    $scope.kota2 = parseInt(getParameterByName('id_tujuan'));
                    console.log($scope.kota2);

                    $scope.getKotaTujuan = function(){
                        $http.get("http://dev.otodata.co.id:8181/mobile/kota/tujuan?idAsal=" + $scope.kota1)
                        .success(function(data){
                            $scope.tesTujuan = [];
                            data.forEach(function(response){
                                response.wilayahs.forEach(function(response2){
                                    $scope.tesTujuan.push({
                                        idProvinsi: response.idProvinsi,
                                        namaProvinsi: response.namaProvinsi,
                                        idWilayah: response2.idWilayah,
                                        namaWilayah: response2.namaWilayah
                                    });
                                });
                            });
                        });
                    };
                    $scope.getKotaTujuan();
                    // end

                    // start tanggal
                    $scope.tglBerangkat = getParameterByName('tglBerangkat');
                    console.log($scope.tglBerangkat);

                    $scope.getTanggal = function(){
                        $scope.getTanggal();
                    };
                    // end

                    // start kelas
                    $scope.val_kelas = parseInt(getParameterByName('ekonomi'));
                    console.log($scope.val_kelas);

                    $scope.getEkonomi = function(){
                        $http.get("{{asset('asset/json/hasil_kelas.json')}}")
                        .success(function(data){
                            $scope.tesEkonomi = [];
                            data.forEach(function(response){
                                $scope.tesEkonomi.push({
                                    idKelas: response.idKelas,
                                    jumlahKelas: response.jumlahKelas
                                });
                            });
                        });
                    };
                    $scope.getEkonomi();
                    // end

                    // start kursi
                    $scope.val_kursi = parseInt(getParameterByName('jmlKursi'));
                    console.log($scope.val_kursi);

                    $scope.getJmlKursi = function(){
                        $http.get("{{asset('asset/json/penumpang.json')}}")
                        .success(function(data){
                            $scope.tesJmlKursi = [];
                            data.forEach(function(response){
                                $scope.tesJmlKursi.push({
                                    idPenumpang: response.idPenumpang,
                                    jumlahPenumpang: response.jumlahPenumpang
                                });
                            });
                        });
                    };
                    $scope.getJmlKursi();
                    // end

                    // start form isi data
                    $scope.pesan = function(form, idJadwal, index, agen, trayek, subtrayek, arahtrayek){

                        if($scope.kursiTerpilih.length < $scope.val_kursi){
                            alert('silahkan pilih kursi sesuai jumlah pesan')
                            return false;
                        }
                        var params = [];
                        $scope.kursiTerpilih.forEach(function (d) {
                            params.push({
                                kursi : d
                            })
                        })
                        console.log(params)
                        $http.post('http://dev.otodata.co.id:8181/mobile/jadwal/' + idJadwal + '/bookingkursi', params)
                        .then (function(data, status, header, config){
                            window.location.href = "http://localhost/web_otobus_laravel/public/formCetak?id_asal=" + getParameterByName('id_asal') +"&id_tujuan=" + getParameterByName('id_tujuan') + "&tglBerangkat=" + getParameterByName('tglBerangkat') + "&ekonomi=" + getParameterByName('ekonomi') + "&jmlKursi=" + getParameterByName('jmlKursi') + '&web=true' + "&idagen=" + $rootScope.selectedAgen + "&idtrayek=" + $rootScope.selectedTrayek + "&idSubTrayek=" + $rootScope.selectedSubtrayek + "&idArahTrayek=" + $rootScope.selectedArahtrayek + "&nomorKursi=" + $scope.kursiTerpilih + "&idJadwal=" + idJadwal + "&jmlPenumpangs=" + $scope.val_kursi;
                            // window.location.href = "http://localhost/web_otobus_laravel/public/formCetak";
                            $scope.pesan = data;
                            console.log("berhasil")
                        });
                    };
                    // end
                });
        </script>
    </body>
</html>